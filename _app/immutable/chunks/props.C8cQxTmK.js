import{S as A,N as M,O as Z,P,Q as $,R as w,U as v,T as N,J as o,C as p,V as j,W as G,X as V,Y as z,Z as H,_ as K,$ as J,G as B,a0 as Q,a1 as W,a2 as C,a3 as X,a4 as k,a5 as ee,L as U,a6 as re,a7 as ne,a8 as ae,a9 as ie,aa as te,ab as Y}from"./utils.CxovrW1-.js";import{f as fe}from"./disclose-version.2N4iKAGu.js";function g(e,n=null,c){if(typeof e!="object"||e===null||A in e)return e;const h=G(e);if(h!==M&&h!==Z)return e;var s=new Map,b=V(e),I=P(0);b&&s.set("length",P(e.length));var m;return new Proxy(e,{defineProperty(f,r,a){(!("value"in a)||a.configurable===!1||a.enumerable===!1||a.writable===!1)&&$();var i=s.get(r);return i===void 0?(i=P(a.value),s.set(r,i)):w(i,g(a.value,m)),!0},deleteProperty(f,r){var a=s.get(r);if(a===void 0)r in f&&s.set(r,P(v));else{if(b&&typeof r=="string"){var i=s.get("length"),t=Number(r);Number.isInteger(t)&&t<i.v&&w(i,t)}w(a,v),q(I)}return!0},get(f,r,a){var d;if(r===A)return e;var i=s.get(r),t=r in f;if(i===void 0&&(!t||(d=N(f,r))!=null&&d.writable)&&(i=P(g(t?f[r]:v,m)),s.set(r,i)),i!==void 0){var u=o(i);return u===v?void 0:u}return Reflect.get(f,r,a)},getOwnPropertyDescriptor(f,r){var a=Reflect.getOwnPropertyDescriptor(f,r);if(a&&"value"in a){var i=s.get(r);i&&(a.value=o(i))}else if(a===void 0){var t=s.get(r),u=t==null?void 0:t.v;if(t!==void 0&&u!==v)return{enumerable:!0,configurable:!0,value:u,writable:!0}}return a},has(f,r){var u;if(r===A)return!0;var a=s.get(r),i=a!==void 0&&a.v!==v||Reflect.has(f,r);if(a!==void 0||p!==null&&(!i||(u=N(f,r))!=null&&u.writable)){a===void 0&&(a=P(i?g(f[r],m):v),s.set(r,a));var t=o(a);if(t===v)return!1}return i},set(f,r,a,i){var E;var t=s.get(r),u=r in f;if(b&&r==="length")for(var d=a;d<t.v;d+=1){var _=s.get(d+"");_!==void 0?w(_,v):d in f&&(_=P(v),s.set(d+"",_))}t===void 0?(!u||(E=N(f,r))!=null&&E.writable)&&(t=P(void 0),w(t,g(a,m)),s.set(r,t)):(u=t.v!==v,w(t,g(a,m)));var R=Reflect.getOwnPropertyDescriptor(f,r);if(R!=null&&R.set&&R.set.call(i,a),!u){if(b&&typeof r=="string"){var D=s.get("length"),y=Number(r);Number.isInteger(y)&&y>=D.v&&w(D,y+1)}q(I)}return!0},ownKeys(f){o(I);var r=Reflect.ownKeys(f).filter(t=>{var u=s.get(t);return u===void 0||u.v!==v});for(var[a,i]of s)i.v!==v&&!(a in f)&&r.push(a);return r},setPrototypeOf(){j()}})}function q(e,n=1){w(e,e.v+n)}const se={get(e,n){if(!e.exclude.includes(n))return o(e.version),n in e.special?e.special[n]():e.props[n]},set(e,n,c){return n in e.special||(e.special[n]=ue({get[n](){return e.props[n]}},n,K)),e.special[n](c),Y(e.version),!0},getOwnPropertyDescriptor(e,n){if(!e.exclude.includes(n)&&n in e.props)return{enumerable:!0,configurable:!0,value:e.props[n]}},deleteProperty(e,n){return e.exclude.includes(n)||(e.exclude.push(n),Y(e.version)),!0},has(e,n){return e.exclude.includes(n)?!1:n in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(n=>!e.exclude.includes(n))}};function de(e,n){return new Proxy({props:e,exclude:n,special:{},version:P(0)},se)}function F(e){for(var n=p,c=p;n!==null&&!(n.f&(Q|W));)n=n.parent;try{return C(n),e()}finally{C(c)}}function ue(e,n,c,h){var L;var s=(c&X)!==0,b=(c&k)!==0,I=(c&ee)!==0,m=(c&ie)!==0,f=!1,r;I?[r,f]=fe(()=>e[n]):r=e[n];var a=(L=N(e,n))==null?void 0:L.set,i=h,t=!0,u=!1,d=()=>(u=!0,t&&(t=!1,m?i=B(h):i=h),i);r===void 0&&h!==void 0&&(a&&b&&z(),r=d(),a&&a(r));var _;if(b)_=()=>{var l=e[n];return l===void 0?d():(t=!0,u=!1,l)};else{var R=F(()=>(s?U:re)(()=>e[n]));R.f|=H,_=()=>{var l=o(R);return l!==void 0&&(i=void 0),l===void 0?i:l}}if(!(c&K))return _;if(a){var D=e.$$legacy;return function(l,O){return arguments.length>0?((!b||!O||D||f)&&a(O?_():l),l):_()}}var y=!1,E=!1,T=te(r),S=F(()=>U(()=>{var l=_(),O=o(T),x=ne;return y||l===void 0&&x.f&ae?(y=!1,E=!0,O):(E=!1,T.v=l)}));return s||(S.equals=J),function(l,O){if(arguments.length>0){const x=O?o(S):b&&I?g(l):l;return S.equals(x)||(y=!0,w(T,x),u&&i!==void 0&&(i=x),B(()=>o(S))),l}return o(S)}}export{g as a,de as l,ue as p};
